# OBV.DMI 交易策略說明

本策略結合了 **能量潮指標 (OBV)** 與 **動向指標 (DMI)**，旨在捕捉量價同步的趨勢並利用背離訊號尋找反轉點。

## 1. 核心指標與週期

- **價格均線**: 20日簡單移動平均線 (MA20)。
- **OBV 指標**: 計算累積成交量，並搭配 **OBV MA20** (訊號線) 判斷動能。
- **DMI (14)**: 包含 `+DI`, `-DI` 及 `ADX`。
    - `ADX > 20`: 代表趨勢成形。
    - `+DI > -DI`: 多頭占優。
    - `-DI > +DI`: 空頭占優。

---

## 2. 進場訊號 (Entry Signals)

### 做多進場 (LONG_ENTRY)
1. **OBV 黃金交叉**: OBV 由下往上穿越其 MA20，且價格位於 MA20 之上。
    - *邏輯*: 量能轉強且趨勢確認。
2. **量價底背離**: 價格創新低，但 OBV 未創新低，且 `+DI > -DI`。
    - *邏輯*: 賣壓耗盡，量能先行回升，預示反轉。
3. **OBV 創新高**: OBV 與價格同步創下近期 (20日) 新高，且 DMI 為多頭趨勢。
    - *邏輯*: 強勢突破。

### 做空進場 (SHORT_ENTRY)
1. **OBV 死亡交叉**: OBV 由上往下穿越其 MA20，且價格位於 MA20 之下。
    - *邏輯*: 量能潰散且趨勢轉淡。
2. **量價頂背離**: 價格創新高，但 OBV 未創新高，且 `-DI > +DI`。
    - *邏輯*: 推升動能不足，預示多頭陷阱。

---

## 3. 出場訊號 (Exit Signals)

### 多單出場 (LONG_EXIT)
- **趨勢轉弱**: OBV 死亡交叉其 MA20。
- **移動止損**: 價格跌破 MA20 的 98%。
- **趨勢反轉**: DMI 轉為空頭 (`-DI` 穿越 `+DI`)。

### 空單回補 (SHORT_EXIT)
- **趨勢轉強**: OBV 黃金交叉其 MA20。
- **止損**: 價格突破 MA20 的 102%。
- **趨勢反轉**: DMI 轉為多頭 (`+DI` 穿越 `-DI`)。

---

## 4. 綜合評分系統 (UI Scoring)

系統會即時計算 0-100 的綜合分數：
- **趨勢強度 (30分)**: 根據 DMI 方向及 ADX 強度給分。
- **量能動力 (30分)**: OBV 是否高於其均線或持續上升。
- **價格行為 (20分)**: 價格與 MA20 的相對位置。
- **動能增強 (20分)**: ADX 是否上升且大於 20。

**建議級別**:
- `> 80`: 強力買入 (Strong Buy)
- `> 60`: 買入 (Buy)
- `< 30`: 賣出 (Sell)
